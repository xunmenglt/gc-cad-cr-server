# 广诚CAD内容识别项目

## 项目简介

广诚CAD内容识别项目旨在实现对CAD图纸中的内容进行自动化识别和解析，包括但不限于矢量信息提取、几何图形识别、文字信息提取和属性标注等功能。项目通过先进的图形处理算法与人工智能技术结合，为工程设计和图纸管理提供高效、准确的解决方案。
---

## 项目目标
1. 实现CAD内容识别过程中各文件类型的解析（如：CAD文件）的高效解析。
2. 实现CAD图纸中的文字信息自动识别与抽取。
4. 实现CAD图纸的矢量信息提取，例如：标高标志等。
3. 自动化的实现自定义字段的抽取，例如：楼层数、楼层高度等。
---

## 功能特性
- **矢量信息提取**：提取CAD图纸中的线条、圆弧、多段线等几何信息。
- **文字信息识别**：从图纸中自动识别文字内容，并进行属性标注。
- **自定义字段**：可动态的增加自定义字段。
---

## 技术栈
- **编程语言**：Python
---

## 快速开始

### 1. 克隆仓库
```bash
git clone https://github.com/xunmenglt/gc-cad-cr.git
cd gc-cad-cr
```

### 2. 安装依赖
确保已经安装Python环境（推荐Python 3.10及以上），然后运行：
```bash
conda create -n gc-cad-cr python=3.10
pip install -r requirements.txt
```

### 3. 使用示例
#### 3.1 数据输入
将目标CAD文件放入 `data/input/` 目录下
数据目录结构如下所示：
```bash
|-- a001深圳国际会展中心  # 项目名称    
|   |-- 业态 # 业态文件夹，存放业态相关信息
|   |   |-- 1栋
|   |   |   |-- 建筑
|   |   |   |   `-- 1栋_t3.dwg
|   |   |   `-- 结构
|   |   |-- 2栋
|   |   |   |-- 建筑
|   |   |   |   `-- 2，3#楼平面图_t3.dwg
|   |   |   `-- 结构
|   |   |-- 3栋
|   |   |   |-- 建筑
|   |   |   |   `-- 2，3#楼平面图_t3.dwg
|   |   |   `-- 结构
|   |   |-- 4栋
|   |   |   |-- 建筑
|   |   |   |   `-- 4，7#楼平面图_t3.dwg
|   |   |   `-- 结构
|   |   |-- 5栋
|   |   |   |-- 建筑
|   |   |   |   `-- 5栋_t3.dwg
|   |   |   `-- 结构
|   |   |-- 6栋
|   |   |   |-- 建筑
|   |   |   |   `-- 6栋_t3.dwg
|   |   |   `-- 结构
|   |   |-- 7栋
|   |   |   |-- 建筑
|   |   |   |   `-- 4，7#楼平面图_t3.dwg
|   |   |   `-- 结构
|   |   |-- 8栋
|   |   |   |-- 建筑
|   |   |   |   `-- 8栋_t3.dwg
|   |   |   `-- 结构
|   |   |-- 地下室
|   |   |   |-- 建筑
|   |   |   |   `-- 大空港4-02地块地下室1-1剖面图_t3.dwg
|   |   |   `-- 结构
|   |   |-- 幼儿园
|   |   |   |-- 建筑
|   |   |   |   `-- 幼儿园_t3_t3.dwg
|   |   |   `-- 结构
|   |   `-- 社区中心
|   |       |-- 建筑
|   |       |   `-- 社区服务中心_t3_t3.dwg
|   |       `-- 结构
|   |-- 人防 # 人防文件夹，存放人防相关信息
|   |   `-- 建筑人防设计说明_t3.dwg
|   |-- 地下室 # 地下室文件夹，存放地下室相关信息
|   |   |-- 大空港4-02地块地下室1-1剖面图_t3.dwg
|   |   `-- 大空港4-02地块地下室20181010_t3.dwg
|   |-- 建筑设计总说明 # 建筑设计总说明文件夹，存放设计总说明相关信息
|   |   |-- 建筑施工图设计总说明_t3.dwg
|   |   `-- 结施S0-01、02 结构设计总说明.dwg
|   |-- 招标文件 # 招标文件文件夹，存放招标相关信息
|   |   `-- 招标文件20250326181311.docx
|   `-- 计价文件 # 计价文件文件夹，存放计价相关信息
|       `-- 深圳国际会展中心配套04-02地块施工总承包工程.xml
```
* 注意：文件夹目录层级结构需严格按照示例所示，否则可能导致解析失败。
    * 业态文件夹，存放业态相关信息，需要以业态为目录单位存放
    * 各目录下可存```.txt```、```.docx```、```.doc```、```.pdf```、```.dwg```、```.xml```文件

运行以下命令：
```bash
python main.py \
    --project_dir "/opt/data/private/liuteng/code/gc-cad-cr/data/input/c001深业泰富银盈大厦" \
    --agent_model_name "qwen3-8b" \
    --output_dir "/opt/data/private/liuteng/code/gc-cad-cr/data/output"
```
输出文件将保存在 `data/output/` 目录中。

---

## 项目结构
```
gc-cad-cr/
├── data/                # 数据目录
│   ├── input/           # 输入CAD文件
│   └── output/          # 解析结果
├── src/                 # 源代码
│   ├── common           # 通用模块
│   ├── conf/            # 配置文件
│   ├── api/             # 模型接口封装
│   ├── extraction/      # 提取器模块
│   ├── parser/          # 解析模块
│   ├── pipeline/        # 数据处理流程模块
│   ├── splitter/        # CAD文件分割模块
│   ├── utils/           # 工具函数
│   └── vjmap/           # 维杰地图相关封装
├── models/              # 模型文件
├── tests/               # 测试用例
├── requirements.txt     # 项目依赖
└── README.md            # 项目说明
```

---

## 贡献指南
欢迎对本项目提出改进建议或提交代码贡献：
1. Fork 本仓库。
2. 创建功能分支：`git checkout -b feature/your-feature-name`
3. 提交修改：`git commit -m 'Add your message here'`
4. 推送到远程分支：`git push origin feature/your-feature-name`
5. 创建 Pull Request。

---

## 联系方式
如有任何问题或建议，请联系：[gc@163.com](mailto:gc@163.com)。

---

## 许可证
本项目采用 [MIT License](LICENSE) 许可证。详细内容请参阅 LICENSE 文件。